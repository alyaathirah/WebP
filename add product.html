<!DOCTYPE html>
<html lang="en"> 
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
        <title>Add Products</title>
        <link rel="icon" href="images/icon.png" type="image/x-icon" />
        <link rel="stylesheet" href="bootstrap.css" />
        <link rel="stylesheet" href="admin.css"/>
    </head>

    <body class="container adminBody">
      <header class="blog-header py-3 container" style="background-color: #f1f1f1;">
        <div class="row flex-nowrap form-inline align-items-center" >
            <a class="blog-header-logo text-dark" href="homepage.html">
            <img src="images/logoadmin.png" style="width: 200px; height: auto;"/></a>
          <h1 class="p-3 mb-2 bg-transparent text-dark" style="font-style: italic;" >Manage Your Products</h1>
        </div>            
    </header>

      <nav aria-label="breadcrumb">
            <ol class="breadcrumb" style="background-color: #ffe508;">
              <li class="breadcrumb-item active" aria-current="page">Add Product</li>
            </ol>
      </nav>
          
        <div class="container" style="margin-top: -20px;">
            <div class="row">
                <div class="col-2 bg-white">
                  <br><div class="d-flex align-items-start">
                        <div class="nav flex-column nav-pills me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                            <a class="nav-link" id="v-pills-home-tab" data-bs-toggle="pill" 
                            data-bs-target="#v-pills-home" type="button" role="tab" aria-controls="v-pills-home" 
                            aria-selected="false" href="admin.html">Your Products</a>         
                            
                            <a class="nav-link active" id="v-pills-home-tab" data-bs-toggle="pill" 
                            data-bs-target="#v-pills-home" type="button" role="tab" aria-controls="v-pills-home" 
                            aria-selected="true" href="Add product.html">Add Product</a>                                              
                        </div>
                    </div>
                </div>
        <main class="col-10">
          <div id="product-items">
          <br><form class="form-inline">
            <h5 class="text-dark">Add New Product</h5> 
          </form>      
          <p class="text-muted">Please choose the right category for your product</p><hr>
          <div class="mb-3 row"></div>
          <div class="row g-3">
            <div class="col-sm-5">
              <input id="new_prod" type="text" class="form-control" placeholder="Product Name" aria-label="product name">
            </div>
            <select id="new_category" class="text-dark form-select col-sm-5 border-black" aria-label="Default select example">
              <option value="Select category" selected>Select category</option>
              <option value="Fruit and Vegetables">Fruit and Vegetables</option>
              <option value="Snacks">Snacks</option>
              <option value="Instant Food">Instant Food</option>
              <option value="Meat and Seafood">Meat and Seafood</option>
              <option value="Bakery and Bread">Bakery and Bread</option>
            </select>
          </div>
          <div class="mb-2 row"></div>
          <div class="mb-3">
            <label for="productDescTextarea1" class="form-label text-dark">Product Description</label>
            <textarea class="form-control col-sm-10" id="productDesc" rows="3"></textarea>
          </div>      
          <div class="mb-3 row">
            <label for="inputPrice" class="col-sm-1 col-form-label text-dark">Price</label>
            <div class="input-group col-sm-2">
              <span class="input-group-text" id="inputGroup-sizing-default">RM</span>
              <input id="new_Price" type="text" class="form-control col-sm-10" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
            </div>
            <label for="inputweight" class="col-sm-1 col-form-label text-dark">Weight</label>
            <div class="input-group col-sm-2">
              <input id="new_Weight" type="text" class="form-control col-sm-10" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
              <select id="new_unit" class="form-select border-black" aria-label="Default select example">
                <option value="kg" selected>kg</option>
                <option value="g">g</option>
              </select>
            </div>
            <label for="inputStock" class="col-sm-1 col-form-label text-dark">Stock</label>
            <div class="col-sm-2">
              <input type="number" class="form-control" id="new_Stock">
            </div>
          </div>
          <div class="row">
              <label for="inputexpDate" class="col-sm-2 form-label text-dark">Expiry Date</label>
              <div class="col-sm-4">
                <input type="date" class="form-control" id="new_expDate">
              </div>
              <div class="col-sm-1 form-check form-check-inline">
                <input class="form-check-input" type="radio" name="origin" value="local" id="new_Local">
                <label class="form-check-label text-dark" for="exampleRadios1">
                  Local
                </label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="origin" value="imported" id="new_Imported">
                <label class="form-check-label text-dark" for="exampleRadios2">
                  Imported
                </label>
              </div>
          </div>
          <div class="mb-3 row"></div>
          <div class="mb-2 row">
            <div class="form-inline justify-content-center">
            <label for="formGroupExampleInput" class="col-2 form-label text-dark">Product Images</label>
            <input type="file" class="form-control col-sm-4" id="new_Image">
            <img id="test4" src="" style="width: 200px; height: 200px; padding-left: 30px;">
            </div>
          </div><br>
          <div class="row justify-content-end">
            <div class="col-4 text-dark">
              <button id="updatebtn" type="button" class="btn btn-outline-warning col-sm-5 text-uppercase">Update</button>
              <script>
                var updt = document.getElementById('updatebtn');
                updt.addEventListener("click", function(){
                  if(document.querySelector("#new_prod").value==""){
                    alert("Please fill in product name");
                  }else if(document.querySelector("#new_category").value=="Select category"){
                    alert("Please choose product category");
                  }else if(document.querySelector("#new_Price").value==""){
                    alert("Please fill in product price");
                  }else if(document.querySelector("#productDesc").value==""){
                    alert("Please fill in product description");
                  }else if(document.querySelector("#new_Weight").value==""){
                    alert("Please fill in product weight");
                  }else if(document.querySelector("#new_Stock").value==""){
                    alert("Please fill in product stock");
                  }else if(document.querySelector("#new_expDate").value==""){
                    alert("Please fill in product expiry date");
                  }else if(document.querySelector("#new_Local").value=="" && document.querySelector("#new_Imported").value==""){
                    alert("Please choose product origin (local/imported");
                  }else{
                    $('#updtModal').modal('toggle');
                    $('#updtModal').modal('show');
                  }
                })
              </script>

              <button id="delbtn" type="button" class="btn btn-outline-danger col-sm-5 text-uppercase">Cancel</button>
              <script>
                var del = document.querySelector("#delbtn");
                del.addEventListener("click", function(){
                  document.getElementById('new_prod').value = null;
                  document.getElementById('new_category').value = "Select Category";
                  document.getElementById('new_Price').value = null;
                  document.getElementById('productDesc').value = null;
                  document.getElementById('new_Weight').value = null;
                  document.getElementById('new_unit').value = "kg";
                  document.getElementById('new_Stock').value = null;
                  document.getElementById('new_expDate').value = null;
                  document.getElementById('new_Local').value = null;
                  document.getElementById('new_Imported').value = null;
                  document.getElementById('test4').src = null;
                  document.getElementById('new_Image').value = null;
                })
              </script>
            </div>
          </div> 

          <div class="mb-3 row"></div>
        </div>
        </main>
          </div>  
        </div>

        <!--Modal Update Product-->
        <div class="modal fade" id="updtModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header justify-content-center">
                <img src="images/logoadmin.png" style="width: 130px; height: 50px"/>       
              </div>
              <div class="modal-body">
                <h5 class="modal-title text-dark" id="exampleModalLabel">Your product is successfully updated.</h5>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Cancel</button>
                <button onclick="addProduct()" type="button" class="btn btn-outline-info" data-dismiss="modal">Confirm</button>
              </div>
            </div>
          </div>
        </div>
        
        
         <!-- Footer -->
    <footer class="text-center text-lg-start">
      <!-- Grid container -->
      <div class="container p-4">
        <!--Grid row-->
        <div class="row">
          <!--Grid column-->
          <div class="col-lg-6 col-md-12 mb-4 mb-md-0">
            <h5 class="text-uppercase text-dark">Company Policy</h5>

            <p class="text-dark">
              This is our company policy, which is the policy of our company. This policy is for those who ask what is our policy and not for those that didnt ask.
            </p>
          </div>
          <!--Grid column-->

          <!--Grid column-->
          <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
            <h5 class="text-uppercase text-dark">Customer Support</h5>

            <ul class="list-unstyled mb-0">
              <li>
                <a class="text-dark">Call Us: 012-3456789</a>
              </li>
              <li>
                <a href="#!" class="text-dark">Mail Us</a>
              </li>
              <li>
                <a class="address text-dark" style="text-decoration: none">
                  Address: <br />
                  Alamat, Jalan, Daerah, Poskod, Negeri, Negara.
                </a>
              </li>
            </ul>
          </div>
          <!--Grid column-->

          <!--Grid column-->
          <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
            <h5 class="text-uppercase mb-0 text-dark">Social Media</h5>

            <ul class="list-unstyled">
              <li>
                <a href="#!" class="text-dark mb-5"
                  ><img
                    src="images/Facebook-logo.png"
                    style="width: auto; height: 30px"
                /></a>
              </li>
              <li>
                <a href="#!" class="text-dark mb-5"
                  ><img
                    src="images/ig logo.png"
                    style="width: auto; height: 30px"
                /></a>
              </li>
              <li>
                <a href="#!" class="text-dark mb-5"
                  ><img
                    src="images/twitter-logo-4.png"
                    style="width: auto; height: 30px"
                /></a>
              </li>
              <li>
                <a href="#!" class="text-dark"
                  ><img
                    src="images/tiktok logo.png"
                    style="width: auto; height: 30px"
                /></a>
              </li>
            </ul>
          </div>
          <!--Grid column-->
        </div>
        <!--Grid row-->
      </div>
      <!-- Grid container -->
      <!-- Copyright -->
      <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2)">
        Â© 2020 Copyright:
        <a class="text-dark" style="font-style: italic" href="#"
          >webprogramming2021@gmail.com</a
        >
      </div>
      <!-- Copyright -->
    </footer>
    <!-- Footer -->
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
      crossorigin="anonymous"
    ></script>      

    <script>
            document.querySelector("#new_Image").addEventListener("change",function(){
              const reader = new FileReader();
    
              reader.addEventListener("load", () => {
                localStorage.setItem("pdImage", reader.result);
              });
    
              reader.readAsDataURL(this.files[0]);
            });

        function addProduct(){
        //get input val
        var name = document.getElementById("new_prod").value;
        var cat = document.getElementById("new_category").value;
        var price = document.getElementById("new_Price").value;
        var des = document.getElementById("productDesc").value;
        var weight = document.getElementById("new_Weight").value;
        var unit = document.getElementById("new_unit").value;
        var stock = document.getElementById("new_Stock").value;
        var expdate = document.getElementById("new_expDate").value;
        var local = document.getElementById("new_Local").value;
        var imported = document.getElementById("new_Imported").value;

        const recImage = localStorage.getItem("pdImage");
        if(recImage){
          document.querySelector("#test4").setAttribute("src", recImage);
        }

        //save to retrieve
        localStorage.setItem("pdName", name);
        localStorage.setItem("pdCategory", cat);
        localStorage.setItem("pdPrice", price);
        localStorage.setItem("pdDes", des);
        localStorage.setItem("pdWeight", weight);
        localStorage.setItem("pdUnit", unit);
        localStorage.setItem("pdStock", stock);
        localStorage.setItem("pdExpDate", expdate);


          var getSelectedValue = document.querySelector('input[name="origin"]:checked');
          if(getSelectedValue.value == local) {   
            localStorage.setItem("pdLocal", getSelectedValue.value);
            localStorage.setItem("pdImport", null);  
          }else{
            localStorage.setItem("pdLocal", null);
            localStorage.setItem("pdImport", getSelectedValue.value);
          }
        }

    </script>
<script type="text/javascript" src="adminproduct.js"></script>
    </body>
</html>
